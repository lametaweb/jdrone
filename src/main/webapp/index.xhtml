<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<f:view>
<h:head>
	<h:outputStylesheet library="css" name="estilo.css" />
</h:head>

<f:metadata>
	<f:event
		listener="#{disponibilidadControlador.listaEstadoDronesPorFecha()}"
		type="preRenderView" />
</f:metadata>

<h:body> 

	¡Hola mundo!
	<br />
	<h:form>
		<h:outputText
			value="Consulta de drones realizando trabajos en una fecha" />
		<br />
		<br />
		<h:messages />
		<br />
		<h:outputText
			value="Introduce la fecha y la hora en el formato indicado:" />
		<br />
		<h:outputLabel value="Fecha (dd-mm-aaaa)" for="fecha" />&nbsp;
		<h:inputText id="fecha" value="#{disponibilidadControlador.fecha}"
			required="true">
			<f:convertDateTime pattern="dd-MM-yyyy" timeZone="GMT+02" />
		</h:inputText>
		<br />
		<h:outputLabel value="Hora (0-24)" for="horas" />&nbsp;
		<h:inputText id="horas" value="#{disponibilidadControlador.horas}"
			required="true">
			<f:validateLength maximum="2" />
			<f:validateLongRange minimum="0" maximum="24" />
		</h:inputText>
		<br />
		<h:outputLabel value="Minutos (0-60)" for="minutos" />&nbsp;
		<h:inputText id="minutos" value="#{disponibilidadControlador.minutos}"
			required="true">
			<f:validateLength maximum="2" />
			<f:validateLongRange minimum="0" maximum="60" />
		</h:inputText>
		<br />
		<br />
		<h:commandButton value="Consultar" />
	</h:form>
	<br />
	<h:dataTable value="#{disponibilidadControlador.drones}" var="drone"
		styleClass="tabla-general" headerClass="tabla-general-cabecera"
		rowClasses="tabla-general-impar,tabla-general-par">

		<h:column>
			<!-- column header -->
			<f:facet name="header">Número de Serie</f:facet>
			<!-- row record -->
    				#{drone.numeroDeSerie}
    			</h:column>
		<h:column>
			<f:facet name="header">Modelo</f:facet>
    				#{drone.modelo}
    			</h:column>
		<h:column>
			<f:facet name="header">Autonomía</f:facet>
    				#{drone.autonomia}
    			</h:column>
		<h:column>
			<f:facet name="header">Número de Motores</f:facet>
    				#{drone.numMotores}
    			</h:column>
		<h:column>
			<f:facet name="header">Peso Máximo Despegue</f:facet>
    				#{drone.pesoMaximoDespegue}
    			</h:column>

	</h:dataTable>

</h:body>
</f:view>
</html>
